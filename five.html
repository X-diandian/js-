<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>高级程序设计第五章：引用类型</title>
</head>
<body>
<div>
    <input id="round" type="text" value="输入随机菜谱"> <input id="runRound" type="button" value="提交">
</div>
<script>
    //        构造函数由新创建的对象定义
    var person = new Object();//Object为构造函数
    //构造函数主要用于传输与存储数据
    //        创建Object实列两种方式
    var person = new Object();
    person.name = "xiaohong";
    person.age = 23;
    var person = {
        name: "xiaohong",
        age: 23
    }
    function displayInfo(args) {
        var output = '';
        if (typeof  args.name == "string") {
            output += args.name + "\n";
        }
        if (typeof args.age == "number") {
            output += args.age;
        }
        console.log("output:" + output);
    }
    displayInfo({
        name: "xiaofang",
        age: 23
    })
    displayInfo({
        name: "gregs"
    })
    //       数组转换方式//tostring()返回字符串 valueOf返回数组 默认用分号隔开 join（）可以控制分隔符
    var color = ["red", "yellow", "blue"];
    console.log(color.join("||"));
    //        栈方法 push()：尾部追加 pop()尾部删除
    var color = ["red"];
    color.push("blue", "yellow");
    console.log(color + color.length);
    var item = color.pop();
    console.log("1:" + color.length);

    console.log(item);//yellow
    var item = color.shift();
    console.log(item.length);//red  shift()移除数组
    // 第一项，并且长度减1 shift
    //重排序的方法有sort(), severse颠倒排序
    var values = [1, 8, 2, 3, 3, 4, 5];
    console.log(values.sort());
    console.log(values.reverse());
    //sort()函数只能排序第一位数字大小，所以进行之前需要判断位数
    function compare(values1, valuse2) {
        if (values1 > valuse2) {
            return 1;
        }
        else if (values1 < valuse2) {
            return -1;
        }
        else {
            return 0;
        }
    }
    var values = [12, 4, 5, 3, 345, 35, 4];
    console.log(values.sort(compare));
    //    而reverse（）则会自动反序，不需要对比
    var ase = [1, 4, 3, 5, 6];
    console.log(ase.reverse());
    console.log(values.reverse());
    //    比较也可以简写
    function compare(values1, valuse2) {
        return valuse2 - values1;//返回1 0 -1
    }
    //    数组操作方法
    //    concat()在数组后追加数组，如果未传参数，则复制并且传递副本
    var valuesColor1 = ["red", "yellow"];
    var valuesColor2 = ["blue", "black"];
    console.log(valuesColor1.concat());
    console.log(valuesColor1.concat(valuesColor2, values));
    var sliceColor = ["red", "black", "yellow", "green", "purple"];
    var sliceColor1 = sliceColor.slice(1);
    var sliceColor2 = sliceColor.slice(1, 3);
    console.log("sliceColor:" + sliceColor);
    console.log("sliceColor1:" + sliceColor1);
    console.log("sliceColor2:" + sliceColor2);
    //splice 删除 插入替换
    var spliceColor = ["red", "yellow", "blue"];
    console.log("spliceColor:" + spliceColor);
    var spliceColor1 = spliceColor.splice(0, 1);
    console.log("spliceColor:" + spliceColor);
    var spliceColor2 = spliceColor.splice(1, 0, "green", "purple");
    console.log("spliceColor2:" + spliceColor);

    //    数组的位置方法
    //indexOf 查找

    var shuj = [1, 2, 3, 4, 5, 4, 3, 2, 1];
    console.log(shuj.indexOf(4));
    console.log(shuj.lastIndexOf(4));
    console.log(shuj.lastIndexOf(4, 4));
    console.log(shuj.lastIndexOf(4, 4));
    var person = {
        namr: "xiaohong",

    }
    var perple = [{
        name: "xiaofang",
    }]
    var morePerple = [perple];

    //函数值
    function callSomeFunction(sonmeFunction, someArgment) {
        return sonmeFunction(someArgment);
    }
    function addFunction10(num) {
        return num + 10;
    }
    var result1 = callSomeFunction(addFunction10, 10);
    console.log(result1);

    function getGrennting(name) {
        return name + ":你的名字";
    }
    var result2 = callSomeFunction(getGrennting, "name");
    console.log(result2);

    function createComparisonFunction(propertyName) {
        return function (object1, object2) {
            varlue1 = object1[propertyName];
            varlue2 = object2[propertyName];
            if (varlue1 > varlue2) {
                return 1;

            }
            else if (varlue1 < varlue2) {
                return -1;
            }
            else {
                return 0;
            }
        }
    }
    var data = [{name: "xiaohong", age: 12}, {name: "xiaofan", age: 32}];
    console.log(data.sort(createComparisonFunction("name")));

    //    函数继承
    //    apply
    function sum(sum1, sum2) {
        return sum1 + sum2;
    }
    function callsum(sum1, sum2) {
        return sum.apply(this, arguments);
    }
    function callsum1(sum1, sum2) {
        return sum.apply(this, [sum2, sum1]);
    }
    console.log("继承:" + callsum1(10, 10));
    ///包装类型
    var s1 = new String("some text");
    var s2 = s1.substring(2);
    s1 = null;
    //字符串
    var stringvalue = "hai holle , my xiangning";
    var positions =new Array();
    var pos = stringvalue.indexOf("m");

    while (pos > -1) {
        positions.push(pos);
        pos = stringvalue.indexOf("m", pos + 1);
    }
    console.log(stringvalue);
//    字符串匹配
    var texta="cat,bat,sat,fat";
    var poattern=/.at/;
    var matches=texta.match(poattern);
    console.log("matches.index:"+matches.indexOf()+"matches[0]:"+matches[0]);

//    编码
    var uri="http://www.baidu.com/illegal value.html#start";
    console.log(encodeURI(uri));

    var arrys=[21,33,32,1,34.2,4.4];
    var Max=Math.max.apply(arrys,values);
    console.log(Max);
    var round=document.getElementById("round");
    var runRound=document.getElementById("runRound");
    var arry=["https://www.baidu.com/","http://www.google.cn/","https://www.sogou.com/","https://www.so.com/"];
    runRound.onclick=function () {
        for (var i=0;i<arry.length;i++){
            n=Math.floor(Math.random()*5)
            window.location.href=arry[n];
        }
    }
//    舍弃入
//    Math.ceil   Math.floor Math.rund
//   random
</script>

</body>
</html>
